function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e&&document.querySelector("body").classList.add("webp")}));class ValidateForm{constructor(e,t){this.form=e,this.objUser=t,e.addEventListener("submit",(o=>this.formSend(o,this,e,t)))}async formSend(e,t,o,s){e.preventDefault();if(0===t.validateForm(o,s)){o.classList.add("-sending");new FormData(o);if((await fetch(s.url,{method:s.method})).ok?console.log("result"):console.log("Error"),o.reset(),s.items.input&&s.items.input.length>0&&s.items.input.forEach((e=>{e.blur()})),o.querySelectorAll(".-custom-select")){o.querySelectorAll(".-custom-select").forEach((e=>e.reset()))}o.classList.remove("-sending")}else console.log("Emptly")}validateForm(e,t){let o=0;for(const e in t.items){const s=t.items[e];if("input"==e&&s.length>0&&s.forEach((e=>{this.removeError(e),e.classList.contains("-tel")?this.telTest(e)&&(this.addError(e),o++):e.classList.contains("-email")?this.emailTest(e)&&(this.addError(e),o++):e.classList.contains("-password")?(e.value.length<8||e.value.length>10)&&(this.addError(e),o++,e.value.length<8&&console.log("passswod 8"),e.value.length>10&&console.log("passswod 10")):e.value||(this.addError(e),o++)})),"checkbox"==e&&s.length>0&&s.forEach((e=>{this.removeError(e),e.checked||(this.addError(e),o++)})),"radio"==e&&s.length>0){const e={};s.forEach((t=>{e[t.name]||(e[t.name]=[]),e[t.name].push(t)}));for(const t in e){const s=e[t],r=Array.from(s).filter((e=>e.checked))[0];s.forEach((e=>{this.removeError(e)})),r||s.forEach((e=>{this.addError(e),o++}))}}"select"==e&&s.length>0&&s.forEach((e=>{e.classList.remove("-error"),e.classList.contains("-custom-select-no-choose")&&(e.classList.add("-error"),o++)}))}return o}removeError(e){e.parentElement.classList.remove("-error"),e.classList.remove("-error");const t=e.closest("form");t.classList.contains("-error")&&t.classList.remove("-error")}addError(e){e.parentElement.classList.add("-error"),e.classList.add("-error");const t=e.closest("form");t.classList.contains("-error")||t.classList.add("-error")}emailTest(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}telTest(e){return!/^((8|\+7)[\- ]?)?(\(?\d{3,4}\)?[\- ]?)?[\d\- ]{5,10}$/.test(e.value)}}const inputsValue=document.querySelectorAll("[data-value]");inputsValue.length>0&&inputsValue.forEach((e=>{const t=e.dataset.value;e.value||(e.placeholder=t),e.addEventListener("focus",(()=>{e.placeholder=""})),e.addEventListener("blur",(()=>{e.placeholder=t}))}));class Me{constructor(e){this.typeMedia=e}init(){if(this.elements=document.querySelectorAll("[data-me]"),this.objects=[],this.elements.length>0){for(let e=0;e<this.elements.length;e++){const t=this.elements[e],o={};o.el=t;const s=t.dataset.me.split(",").map((e=>e.trim()));o.dataAttr={size:s[0],block:s[1],index:s[2]},o.parentElement=o.el.parentElement,o.indexParent=Array.from(o.parentElement.children).indexOf(o.el),this.objects.push(o)}for(let e=0;e<this.objects.length;e++){const t=this.objects[e],o=window.matchMedia(`(${this.typeMedia}-width:${t.dataAttr.size}px)`);this.mediaHandler(o,t),o.addEventListener("change",(e=>this.mediaHandler(e,t)))}}}mediaHandler(e,t){e.matches?(t.el.classList.add("-me"),this.moveTo(t.el,t.dataAttr.block,t.dataAttr.index)):(t.el.classList.remove("-me"),this.moveBack(t.el,t.parentElement,t.indexParent))}moveTo(e,t,o){if(document.querySelector(t)){const s=document.querySelector(t),r=s.children,l="first"==o?0:"last"==o?void 0:o;null!=r[l]?r[l].insertAdjacentElement("beforebegin",e):s.insertAdjacentElement("beforeend",e)}}moveBack(e,t,o){const s=t.children;null!=s[o]?s[o].insertAdjacentElement("beforebegin",e):t.insertAdjacentElement("beforeend",e)}}const me=new Me("max");me.init();class Popup{init(){this.elements=document.querySelectorAll("[data-popup-link]"),this.objects=[],this.elements.length>0&&document.addEventListener("click",(e=>this.actionPopupDocument(e,this)))}actionPopupDocument(e,t){const o=e.target,s=document.querySelectorAll("[data-popup].-anim");if(o.closest("[data-popup-link]")&&(e.preventDefault(),0===s.length)){const e=o.closest("[data-popup-link]"),s=document.querySelectorAll("[data-popup].-open");if(s.forEach((e=>e.classList.remove("-open"))),document.querySelector(`${e.dataset.popupLink}`)){const o=document.querySelector(`${e.dataset.popupLink}`);s.length>0?t.openPopup(o,!1):t.openPopup(o)}}if(o.closest("[data-popup-close]")&&(e.preventDefault(),0===s.length)){const e=o.closest("[data-popup-close]").closest("[data-popup]");t.closePopup(e)}if(o.closest("[data-popup]")&&!o.closest("[data-popup-content]")&&0===s.length){const e=o.closest("[data-popup]");t.closePopup(e)}}openPopup(e,t=!0){e.classList.add("-open"),e.classList.add("-anim"),setTimeout((()=>{e.classList.remove("-anim")}),400),t&&(this.actionPadding(),document.body.classList.add("-lock-popup"))}closePopup(e){e.classList.add("-anim"),e.classList.remove("-open"),setTimeout((()=>{this.actionPadding(!1),document.body.classList.remove("-lock-popup"),e.classList.remove("-anim")}),400)}actionPadding(e=!0){const t=[];t.push(document.body);const o=document.querySelectorAll(".-popup-padding");if(o.length>0&&o.forEach((e=>t.push(e))),e){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth;t.forEach((t=>{t.style.paddingRight=e+"px"}))}else t.forEach((e=>{e.style.paddingRight=""}))}}const popup=new Popup;popup.init();const mainForms=document.querySelectorAll(".form-main");mainForms.length>0&&mainForms.forEach((e=>{new ValidateForm(e,{method:"GET",url:"",items:{input:e.querySelectorAll('input[type="text"].-req, input[type="tel"].-req')}})}));const saleForm=document.querySelector(".form-sale");saleForm&&new ValidateForm(saleForm,{method:"GET",url:"",items:{input:saleForm.querySelectorAll('input[type="text"].-req, input[type="tel"].-req')}});const gallerySlider=new Swiper(".slider-gallery__body",{navigation:{nextEl:".slider-gallery__arrows .arrows-slider__next",prevEl:".slider-gallery__arrows .arrows-slider__prev"},simulateTouch:!0,grabCursor:!0,watchOverflow:!1,spaceBetween:15,breakpoints:{0:{slidesPerView:1,slidesPerGroup:1},767.89:{slidesPerView:2,slidesPerGroup:2},991.98:{slidesPerView:3,slidesPerGroup:3}}}),avatarSlider=new Swiper(".avatar-slider__body",{simulateTouch:!0,grabCursor:!0,watchOverflow:!1}),commentsSlider=new Swiper(".slider-comments__body",{navigation:{nextEl:".slider-comments__arrows .arrows-slider__next",prevEl:".slider-comments__arrows .arrows-slider__prev"},simulateTouch:!0,grabCursor:!0,watchOverflow:!1});var map;commentsSlider.controller.control=avatarSlider,avatarSlider.controller.control=commentsSlider,lightGallery(document.querySelector(".slider-gallery__body"),{selector:".slider-gallery__image"}),DG.then((function(){map=DG.map("map",{center:[43.25078,76.943376],zoom:18,zoomControl:!1,fullscreenControl:!1}),DG.marker([43.25078,76.943376]).addTo(map)}));